{"code":"!function(e,t){if(\"object\"==typeof exports&&\"object\"==typeof module)module.exports=t();else if(\"function\"==typeof define&&define.amd)define([],t);else{var n=t();for(var s in n)(\"object\"==typeof exports?exports:e)[s]=n[s]}}(this,function(){return function(e){var t={};function n(s){if(t[s])return t[s].exports;var i=t[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)n.d(s,i,function(t){return e[t]}.bind(null,i));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t,n){\"use strict\";function s(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,\"value\"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}n.r(t),n.d(t,\"default\",function(){return i});var i=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.target=t,this.options=n,this.options.type=n.type||\"select\",this.options.placeholder=n.placeholder||\"Choose\",this.options.className=n.className||\"casper-select\",this.bar=null,this.list=null,this.defaultList=[],this.createSelect(),s&&s.call(this)}var t,n,i;return t=e,(n=[{key:\"createSelect\",value:function(){var e=this,t=document.createElement(\"div\");t.classList.add(this.options.className),this.buildBar(t),this.buildList(t),this.target.style.display=\"none\",this.target.parentNode.insertBefore(t,this.target),window.addEventListener(\"click\",function(t){t.target!==e.bar&&(e.bar.parentNode.classList.remove(\"\".concat(e.options.className,\"--triggered\")),e.list.classList.remove(\"\".concat(e.options.className,\"-list--opened\")))})}},{key:\"buildBar\",value:function(e){var t=this,n=null;switch(this.options.type){case\"select\":(n=document.createElement(\"div\")).classList.add(\"\".concat(this.options.className,\"-placeholder\")),n.innerText=this.options.placeholder;break;case\"input\":(n=document.createElement(\"input\")).classList.add(\"\".concat(this.options.className,\"-input\")),n.placeholder=this.options.placeholder}return this.bar=n,this.bar.addEventListener(\"click\",function(e){e.target.parentNode.classList.toggle(\"\".concat(t.options.className,\"--triggered\")),t.list.classList.toggle(\"\".concat(t.options.className,\"-list--opened\"))}),\"input\"==this.options.type&&this.bar.addEventListener(\"input\",function(e){return t.rewriteList(t.searchValues(e.target.value))}),e.appendChild(n)}},{key:\"buildList\",value:function(e){var t=this,n=document.createElement(\"ul\");return n.classList.add(\"\".concat(this.options.className,\"-list\")),this.list=n,[].forEach.call(this.target.children,function(e,s){var i=document.createElement(\"li\"),a={};return i.classList.add(\"\".concat(t.options.className,\"-list-item\")),i.innerHTML=e.innerHTML,i.setAttribute(\"data-select-key\",s),a.html=e.innerHTML,a.id=s,a.classname=t.target.children[s].className||i.className,i.addEventListener(\"click\",function(e){var n=document.querySelector(\".\".concat(t.options.className,\"-list-item--chosen\"));t.target.selectedIndex=s,t.bar.innerHTML=e.target.innerHTML,n&&n.classList.remove(\"\".concat(t.options.className,\"-list-item--chosen\")),e.target.classList.add(\"\".concat(t.options.className,\"-list-item--chosen\"))}),t.defaultList.push(a),n.appendChild(i)}),e.appendChild(n)}},{key:\"searchValues\",value:function(e){var t=new RegExp(\"\".concat(e),\"i\"),n=[];return console.log(this.defaultList),0==e.length?n=this.defaultList:this.defaultList.forEach(function(e){if(e.html.match(t)){var s={};s.html=e.html,s.classname=e.classname,s.id=e.id,n.push(s)}}),n}},{key:\"rewriteList\",value:function(e){var t=this;return this.list.innerHTML=\"\",e.forEach(function(e){var n=document.createElement(\"li\");return n.className=e.classname,n.innerText=e.html,n.setAttribute(\"data-select-key\",e.id),n.addEventListener(\"click\",function(e){var n=document.querySelector(\".\".concat(t.options.className,\"-list-item--chosen\"));t.target.selectedIndex=e.target.getAttribute(\"data-select-key\"),t.bar.value=e.target.innerHTML,n&&n.classList.remove(\"\".concat(t.options.className,\"-list-item--chosen\")),e.target.classList.add(\"\".concat(t.options.className,\"-list-item--chosen\"))}),t.list.appendChild(n)})}}])&&s(t.prototype,n),i&&s(t,i),e}();window.CasperSelect=i}])});","extractedComments":[]}